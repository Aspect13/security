<div class="p-3">
    <div class="flex-container">
        <div class="flex-item-2">
            {#            <div class="card card-table-sm">#}
            {#                <div class="card-header">#}
            {#                    <div class="row">#}
            {#                        <div class="col-5">#}
            {#                            <h3>Application Tests</h3>#}
            {#                        </div>#}
            {#                        <div class="col-7">#}
            {#                            <div class="d-flex justify-content-end">#}
            {#                                <button type="button" class="btn btn-32 btn-secondary" id="create_test"#}
            {#                                        data-toggle="modal" data-target="#createApplicationTest"><i#}
            {#                                        class="fas fa-plus"></i></button>#}
            {#                                                        <button type="button" class="btn btn-32 btn-secondary" id="filter_test"><i class="fas fa-filter"></i></button>#}
            {#                                <button type="button" class="btn btn-32 btn-secondary" id="delete_test"><i#}
            {#                                        class="fas fa-trash-alt"></i></button>#}
            {#                            </div>#}
            {#                        </div>#}
            {#                    </div>#}
            {##}
            {#                </div>#}
            {#                <div class="card-body">#}
            {#                    <table class="table table-borderless"#}
            {#                           id="tests-list"#}
            {#                           data-unique-id="id"#}
            {#                           data-toggle="table"#}
            {#                           data-url="/api/v1/security/tests/{{ tools.session_project.get() }}"#}
            {#                           data-pagination="true"#}
            {#                           data-page-size=5#}
            {#                           data-side-pagination="server"#}
            {#                           data-pagination-parts='["pageInfoShort", "pageList"]'#}
            {#                    >#}
            {#                        <thead class="thead-light">#}
            {#                        <tr>#}
            {#                            <th scope="col" data-checkbox="true"></th>#}
            {#                            <th scope="col" data-sortable="true" data-field="name">Name</th>#}
            {#                            <th scope="col" data-sortable="true" data-field="urls_to_scan">Urls</th>#}
            {#                            <th scope="col" data-sortable="true" data-field="test_uid" data-visible="false">Uuid</th>#}
            {#                            <th scope="col" data-sortable="true" data-field="integrations"#}
            {#                                data-formatter="tableFormatters.tests_tools"#}
            {#                            >#}
            {#                                Tools#}
            {#                            </th>#}
            {#                            <th scope="col"#}
            {#                                data-align="right"#}
            {#                                data-events="tableFormatters.status_events"#}
            {#                                data-formatter="tableFormatters.tests_actions"#}
            {#                                data-width="100" data-width-unit="px"#}
            {#                            >#}
            {#                                Actions#}
            {#                            </th>#}
            {#                        </tr>#}
            {#                        </thead>#}
            {#                    </table>#}
            {#                </div>#}
            {#            </div>#}
            <Table-Card
                    @register="register"
                    instance_name="table_tests"

                    header='Application Tests'
                    table_url='/api/v1/security/tests/{{ tools.session_project.get() }}'
                    table_page_size=5
            >
                <template #actions>
                    <div class="d-flex justify-content-end">
                        <button type="button" class="btn btn-32 btn-secondary" id="create_test"
                                data-toggle="modal" data-target="#createApplicationTest"><i
                                class="fas fa-plus"></i></button>
                        <button type="button" class="btn btn-32 btn-secondary" id="filter_test"><i
                                class="fas fa-filter"></i></button>
                        <button type="button" class="btn btn-32 btn-secondary" id="delete_test"><i
                                class="fas fa-trash-alt"></i></button>
                    </div>
                </template>
                <template #table_headers>
                    <th scope="col" data-checkbox="true"></th>
                    <th scope="col" data-sortable="true" data-field="name">Name</th>
                    <th scope="col" data-sortable="true" data-field="urls_to_scan">Urls</th>
                    <th scope="col" data-sortable="true" data-field="test_uid" data-visible="false">Uuid</th>
                    <th scope="col" data-sortable="true" data-field="integrations"
                        data-formatter="tableFormatters.tests_tools"
                    >
                        Tools
                    </th>
                    <th scope="col"
                        data-align="right"
                        data-events="tableFormatters.status_events"
                        data-formatter="tableFormatters.tests_actions"
                        data-width="100" data-width-unit="px"
                    >
                        Actions
                    </th>
                </template>
            </Table-Card>
        </div>
        <div class="flex-item-2">
            {#            <div class="card card-table-sm">#}
            {#                <div class="card-header">#}
            {#                    <div class="row">#}
            {#                        <div class="col-4">#}
            {#                            <h3>Thresholds</h3>#}
            {#                        </div>#}
            {#                        <div class="col-8">#}
            {#                            <div class="d-flex justify-content-end">#}
            {#                                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-plus"></i>#}
            {#                                </button>#}
            {#                                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-sync"></i>#}
            {#                                </button>#}
            {#                                <button type="button" class="btn btn-32 btn-secondary"><i#}
            {#                                        class="fas fa-filter"></i></button>#}
            {#                                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-tag"></i>#}
            {#                                </button>#}
            {#                                <button type="button" class="btn btn-32 btn-secondary"><i#}
            {#                                        class="fas fa-trash-alt"></i></button>#}
            {#                            </div>#}
            {#                        </div>#}
            {#                    </div>#}
            {#                </div>#}
            {#                <div class="card-body card-table">#}
            {#                    <table class="table table-borderless"#}
            {#                           id="threshold-list"#}
            {#                           data-toggle="table"#}
            {#                           data-side-pagination="server"#}
            {#                           data-virtual-scroll="true"#}
            {#                           data-pagination-parts='["pageInfoShort", "pageList"]'#}
            {#                    >#}
            {#                        <thead class="thead-light">#}
            {#                        <tr>#}
            {#                            <th scope="col" data-checkbox="true"></th>#}
            {#                            <th data-visible="false" data-field="id">index</th>#}
            {#                            <th scope="col" data-sortable="true" data-field="name" data-formatter=createLinkToTest>#}
            {#                                Name#}
            {#                            </th>#}
            {#                            <th scope="col" data-sortable="true" data-field="tests_count">Tests Count</th>#}
            {#                            <th scope="col" data-sortable="true" data-formatter="lgFormatter">Runners</th>#}
            {#                            <th scope="col" data-field="lg_type">Actions</th>#}
            {#                        </tr>#}
            {#                        </thead>#}
            {#                    </table>#}
            {#                </div>#}
            {#            </div>#}
        </div>
    </div>


    {#    <div class="card mt-3 card-table-sm">#}
    {##}
    {#        <div class="card-header">#}
    {#            <div class="row">#}
    {#                <div class="col-4">#}
    {#                    <h3>Reports</h3>#}
    {#                </div>#}
    {#                <div class="col-8">#}
    {#                        <div class="d-flex justify-content-end">#}
    {#                            <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-sync"></i></button>#}
    {#                            <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-filter"></i></button>#}
    {#                            <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-tag"></i></button>#}
    {#                            <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-trash-alt"></i></button>#}
    {#                        </div>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {##}
    {#        <div class="card-body card-table">#}
    {#            <table class="table table-borderless"#}
    {#                   id="results-list"#}
    {#                   data-toggle="table"#}
    {#                   data-url="/api/v1/security/results/{{ tools.session_project.get() }}"#}
    {#                   data-virtual-scroll="true"#}
    {#                   data-pagination="true"#}
    {#                   data-page-size=10#}
    {#                   data-side-pagination="server"#}
    {#                   data-pagination-parts='["pageInfoShort", "pageList"]'#}
    {#            >#}
    {#                <thead class="thead-light">#}
    {#                <tr>#}
    {#                    <th scope="col" data-checkbox="true"></th>#}
    {#                    <th data-visible="false" data-field="id">index</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="test_name"#}
    {#                        data-formatter="tableFormatters.reports_test_name_button">#}
    {#                        Name#}
    {#                    </th>#}
    {#                    <th scope="col" data-sortable="true" data-field="start_date">Start</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="duration">Duration</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="findings">Findings</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="false_positive">False Positive</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="excluded">Excl</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="info">Info</th>#}
    {#                    <th scope="col" data-sortable="true" data-field="tags" data-formatter="reportsTagFormatter">#}
    {#                        Tag#}
    {#                    </th>#}
    {#                    <th scope="col" data-field="test_status.status"#}
    {#                        data-formatter="tableFormatters.reports_status_formatter">#}
    {#                        Status#}
    {#                    </th>#}
    {#                </tr>#}
    {#                </thead>#}
    {#            </table>#}
    {#        </div>#}
    {#    </div>#}

    <Table-Card
            @register="register"
            instance_name="table_reporters"

            header='Reporters'
            table_url='/api/v1/security/results/{{ tools.session_project.get() }}'
            {#            table_page_size=1#}

            container_classes="mt-3"
    >
        <template #actions>
            <div class="d-flex justify-content-end">
{#                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-sync"></i></button>#}
{#                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-filter"></i></button>#}
{#                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-tag"></i></button>#}
                <button type="button" class="btn btn-32 btn-secondary"><i class="fas fa-trash-alt"></i></button>
            </div>
        </template>
        <template #table_headers>
            <th scope="col" data-checkbox="true"></th>
            <th data-visible="false" data-field="id">index</th>
            <th scope="col" data-sortable="true" data-field="test_name"
                data-formatter="tableFormatters.reports_test_name_button">
                Name
            </th>
            <th scope="col" data-sortable="true" data-field="start_date">Start</th>
            <th scope="col" data-sortable="true" data-field="duration">Duration</th>
            <th scope="col" data-sortable="true" data-field="findings">Findings</th>
            <th scope="col" data-sortable="true" data-field="false_positive">False Positive</th>
            <th scope="col" data-sortable="true" data-field="excluded">Excl</th>
            <th scope="col" data-sortable="true" data-field="info">Info</th>
            <th scope="col" data-sortable="true" data-field="tags" data-formatter="reportsTagFormatter">
                Tag
            </th>
            <th scope="col" data-field="test_status.status"
                data-formatter="tableFormatters.reports_status_formatter">
                Status
            </th>
        </template>
    </Table-Card>

    {#    {{ template_slot("create_test", payload=config) | safe }}#}
    {% include 'security:app/modal.html' %}
</div>
